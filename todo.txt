

geo that we need already encoded in pbf
geojson - ids of where we are



moveend event

if its a zoom-in and within current range,
  do nothing
    record extent
else
  get center of map and top of zoom range?
  record extent

if its a pan
  record extent
  compare to previous extent
  get delta between last extent and current extent (using ..that js library)
  Query Postgres Database
    get IDs from postgres query of above (minus id's 
    return data from IDs
    


query store for data
then query db for remaining data

load all sources up front for chosen dataset
load all layers up front for given geography scheme
don't need to capture zooms, layer detail should do everything


load base style - just open map tiles?

zoom based
 -remove source (existing)
 -add source
 (as opposed to setStyle)
 -then paint

colorscheme picker / classification picker

update tile server to eliminate 404s
update lets encrypt

geography picker
 expanded geographies
 pick a geo hierarchy 
 - county - tract - bg
 - state - county - countysubdivision
 ---------------------------------------
 - msa - cbsa - place
 - state - zcta
 - state - puma




roadmap
----------
add search
additional vector tile layers for differing census geographies
additional vintages of acs
add census 2010
mouseover for value on map
last - adapt to own census api
webshot service
 
 
 
interesting ideas
------------
streaming OBOE.js - any advantage over gzip?
PREACT?
api data returned as hash map where key is geonum - much faster
mouseover on legend to highlight those values on map
cache data from ajax calls


build todos
--------------
rollup cache busting 
rollup uglify

